{
  "Id": "1371",
  "Title": "\u0022Managing Azure AI Search Admin and Query API Keys\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfAzure PowerShellNew-AzSearchAdminKey is used to roll over admin API keys. Two admin keys arecreated with each service for authenticated access. Keys are required on every request.Both admin keys are functionally equivalent, granting full write access to a search servicewith the ability to retrieve any information, or create and delete any object. Two keysexist so that you can use one while replacing the other.You can only regenerate one at a time, specified as either the primary or secondary key.For uninterrupted service, remember to update all client code to use a secondary keywhile rolling over the primary key.\r\nAvoid changing the keys while operations are inflight.As you might expect, if you regenerate keys without updating client code, requestsusing the old key will fail. Regenerating all new keys does not permanently lock you outof your service, and you can still access the service through the portal.\r\nAfter youregenerate primary and secondary keys, you can update client code to use the new keysand operations will resume accordingly.Values for the API keys are generated by the service. You cannot provide a custom keyfor Azure AI Search to use. Similarly, there is no user-defined name for admin API-keys.References to the key are fixed strings, either primary or secondary.\r\nAzure PowerShellSet-AzSearchPrivateEndpointConnection -ResourceGroupName \u003Csearch-service-resource-group-name\u003E -ServiceName \u003Csearch-service-name\u003E -Name \u003Cpe-connection-name\u003E -Status Rejected  -Description \u0022Rejected\u0022 Remove-AzSearchPrivateEndpointConnection -ResourceGroupName \u003Csearch-service-resource-group-name\u003E -ServiceName \u003Csearch-service-name\u003E -Name \u003Cpe-connection-name\u003ERegenerate admin keysNew-AzSearchAdminKey -ResourceGroupName \u003Csearch-service-resource-group-name\u003E -ServiceName \u003Csearch-service-name\u003E -KeyKind PrimaryResults should look similar to the following output. Both keys are returned even thoughyou only change one at a time.\nNew-AzSearchQueryKey is used to create query API keys for read-only access fromclient apps to an Azure AI Search index. Query keys are used to authenticate to aspecific index for the purpose of retrieving search results. Query keys do not grant read-only access to other items on the service, such as an index, data source, or indexer.\n"
}