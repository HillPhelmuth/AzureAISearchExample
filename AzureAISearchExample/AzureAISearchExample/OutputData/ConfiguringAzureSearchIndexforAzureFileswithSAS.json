{
  "Id": "925",
  "Title": "\u0022Configuring Azure Search Index for Azure Files with SAS\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfblob.core.windows.net/\u003Ccontainer name\u003E?sv=2016-05-31\u0026sr=c\u0026sig=\u003Cthe signature\u003E\u0026se=\u003Cthe validity end time\u003E\u0026sp=rl;\u0022 }The SAS should have the list and read permissions on the container. For more information, seeUsing Shared Access Signatures.\r\nIn the search index, add fields to accept the content and metadata of your Azure files.1. Create or update an index to define search fields that will store file content andmetadata:HTTP2. Create a document key field (\u0022key\u0022: true). For blob content, the best candidates aremetadata properties. Metadata properties often include characters, such as / and\uFF17 NoteIf you use SAS credentials, you will need to update the data source credentialsperiodically with renewed signatures to prevent their expiration. If SAS credentialsexpire, the indexer will fail with an error message similar to \u0022Credentials provided inthe connection string are invalid or have expired\u0022.\r\nAdd search fields to an indexPOST /indexes?api-version=2020-06-30 {   \u0022name\u0022 : \u0022my-search-index\u0022,   \u0022fields\u0022: [       { \u0022name\u0022: \u0022ID\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022key\u0022: true, \u0022searchable\u0022: false },       { \u0022name\u0022: \u0022content\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022searchable\u0022: true, \u0022filterable\u0022: false },       { \u0022name\u0022: \u0022metadata_storage_name\u0022, \u0022type\u0022: \u0022Edm. String\u0022, \u0022searchable\u0022: false, \u0022filterable\u0022: true, \u0022sortable\u0022: true  },       { \u0022name\u0022: \u0022metadata_storage_path\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022searchable\u0022: false, \u0022filterable\u0022: true, \u0022sortable\u0022: true },       { \u0022name\u0022: \u0022metadata_storage_size\u0022, \u0022type\u0022: \u0022Edm.Int64\u0022, \u0022searchable\u0022: false, \u0022filterable\u0022: true, \u0022sortable\u0022: true  },       { \u0022name\u0022: \u0022metadata_storage_content_type\u0022, \u0022type\u0022: \u0022Edm.\n"
}