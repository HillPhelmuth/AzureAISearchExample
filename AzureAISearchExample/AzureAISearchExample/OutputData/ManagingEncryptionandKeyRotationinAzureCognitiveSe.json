{
  "Id": "1470",
  "Title": "\u0022Managing Encryption and Key Rotation in Azure Cognitive Search\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfnet\u0022,         \u0022accessCredentials\u0022: {             \u0022applicationId\u0022: \u002200000000-0000-0000-0000-000000000000\u0022,             \u0022applicationSecret\u0022: \u0022myApplicationSecret\u0022}     } } Indexer encryption{   \u0022name\u0022: \u0022indexer1\u0022,   \u0022dataSourceName\u0022: \u0022datasource1\u0022,   \u0022skillsetName\u0022: \u0022skillset1\u0022,   \u0022parameters\u0022: {       \u0022configuration\u0022: {           \u0022imageAction\u0022: \u0022generateNormalizedImages\u0022       }   },   \u0022encryptionKey\u0022: {     \u0022keyVaultUri\u0022: \u0022https://demokeyvault.\r\nvault.azure.\r\nnet\u0022,     \u0022keyVaultKeyName\u0022: \u0022myEncryptionKey\u0022,     \u0022keyVaultKeyVersion\u0022: \u0022eaab6a663d59439ebb95ce2fe7d5f660\u0022,     \u0022accessCredentials\u0022: {       \u0022applicationId\u0022: \u002200000000-0000-0000-0000-000000000000\u0022,       \u0022applicationSecret\u0022:\r\n\u0022myApplicationSecret\u0022     }   } } \uFF09 ImportantWhile \u0022encryptionKey\u0022 can\u0027t be added to existing search indexes or synonym maps,it may be updated by providing different values for any of the three key vaultWith customer-managed key encryption, you\u0027ll notice latency for both indexing andqueries due to the extra encrypt/decrypt work.\r\nAzure Cognitive Search doesn\u0027t logencryption activity, but you can monitor key access through key vault logging. Werecommend that you enable logging as part of key vault configuration.Key rotation is expected to occur over time. Whenever you rotate keys, it\u0027s important tofollow this sequence:1. Determine the key used by an index or synonym map. 2. Create a new key in key vault, but leave the original key available.3. Update the encryptionKey properties on an index or synonym map to use the newvalues. Only objects that were originally created with this property can be updatedto use a different value.4. Disable or delete the previous key in the key vault.\n"
}