{
  "Id": "198",
  "Title": "\u0022Bulk Upload Dependencies Installation and Batch Processing in Visual Studio\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfint(i[\u0022ratings_count\u0022]) if i[\u0022ratings_count\u0022] else 0,                \u0022work_ratings_count\u0022: int(i[\u0022work_ratings_count\u0022])                if i[\u0022work_ratings_count\u0022]                else 0,                \u0022work_text_reviews_count\u0022: i[\u0022work_text_reviews_count\u0022]                if i[\u0022work_text_reviews_count\u0022]                else 0,                \u0022ratings_1\u0022: int(i[\u0022ratings_1\u0022]) if i[\u0022ratings_1\u0022] else 0,                \u0022ratings_2\u0022: int(i[\u0022ratings_2\u0022]) if i[\u0022ratings_2\u0022] else 0,2.\r\nOpen an integrated terminal in Visual Studio for the project directory\u0027ssubdirectory, search-website-functions-v4/bulk-upload, and run the followingcommand to install the dependencies.\r\nBash                \u0022ratings_3\u0022: int(i[\u0022ratings_3\u0022]) if i[\u0022ratings_3\u0022] else 0,                \u0022ratings_4\u0022: int(i[\u0022ratings_4\u0022]) if i[\u0022ratings_4\u0022] else 0,                \u0022ratings_5\u0022: int(i[\u0022ratings_5\u0022]) if i[\u0022ratings_5\u0022] else 0,                \u0022image_url\u0022: i[\u0022image_url\u0022],                \u0022small_image_url\u0022: i[\u0022small_image_url\u0022],            }        )        # In this sample, we limit batches to 1000 records.\r\n# When the counter hits a number divisible by 1000, the batch is sent.        if count % batch_size == 0:            client.upload_documents(documents=batch_array)            batch_counter \u002B= 1            print(f\u0022Batch sent! - #{batch_counter}\u0022)            batch_array = []    # This will catch any records left over, when not divisible by 1000    if len(batch_array) \u003E 0:        client. upload_documents(documents=batch_array)        batch_counter \u002B= 1        print(f\u0022Final batch sent! - #{batch_counter}\u0022)    print(\u0022Done!\u0022)if __name__ == \u0022__main__\u0022:    start_client = CreateClient(endpoint, key, index_name)    admin_client = start_client.create_admin_client()    search_client = start_client.\n"
}