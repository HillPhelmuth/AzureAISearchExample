{
  "Id": "1390",
  "Title": "\u0022Configuring Azure Search Services: Role-Based Access and Service Creation\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfaccess_token);             }         });     } }); List search servicesGET https://management.azure.com/subscriptions/{{subscriptionId}}/providers/Microsoft.Search/searchServices?api-version=2022-09-01 Create or update a serviceHTTPTo create an S3HD service, use a combination of -Sku and -HostingMode properties. Set\u0022sku\u0022 to Standard3 and \u0022hostingMode\u0022 to HighDensity.\r\nHTTPApplies to: Search Index Data Contributor, Search Index Data Reader, Search ServiceContributorPUT https://management.azure.com/subscriptions/{{subscriptionId}}/resourceGroups/{{resource-group}}/providers/Microsoft.\r\nSearch/searchServices/{{search-service-name}}?api-version=2022-09-01 {   \u0022location\u0022: \u0022{{region}}\u0022,   \u0022sku\u0022: {     \u0022name\u0022: \u0022basic\u0022   },   \u0022properties\u0022: {     \u0022replicaCount\u0022: 1,     \u0022partitionCount\u0022: 1,     \u0022hostingMode\u0022: \u0022default\u0022   } } Create an S3HD servicePUT https://management.azure.com/subscriptions/{{subscriptionId}}/resourceGroups/{{resource-group}}/providers/Microsoft.\r\nSearch/searchServices/{{search-service-name}}?api-version=2022-09-01 {   \u0022location\u0022: \u0022{{region}}\u0022,   \u0022sku\u0022: {     \u0022name\u0022: \u0022Standard3\u0022   },   \u0022properties\u0022: {     \u0022replicaCount\u0022: 1,     \u0022partitionCount\u0022: 1,     \u0022hostingMode\u0022: \u0022HighDensity\u0022   } } Configure role-based access for data planeIn this step, configure your search service to recognize an authorization header on datarequests that provide an OAuth2 access token. To use Azure role-based access control (Azure RBAC) for data plane operations, set\u0022authOptions\u0022 to \u0022aadOrApiKey\u0022 and then send the request.If you want to use Azure RBAC exclusively, turn off API key authentication by followingup with a second request, this time setting \u0022disableLocalAuth\u0022 to \u0022true\u0022.\nHTTPIf you\u0027re using customer-managed encryption, you can enable \u0022encryptionWithCMK\u0022with \u0022enforcement\u0022 set to \u0022Enabled\u0022 if you want the search service to report itscompliance status.\n"
}