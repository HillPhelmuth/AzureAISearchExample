{
  "Id": "1742",
  "Title": "\u0022Text Merge: Extracting and Merging Text from Images\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdf\u00221\u0022,      \u0022data\u0022:      {        \u0022mergedText\u0022: \u0022The quick brown fox jumps over the lazy dog\u0022      }    }A common scenario for using Text Merge is to merge the textual representation ofimages (text from an OCR skill, or the caption of an image) into the content field of adocument.\r\nThe following example skillset uses the OCR skill to extract text from images embeddedin the document. Next, it creates a merged_text field to contain both original and OCRedtext from each image.\r\nYou can learn more about the OCR skill here.JSON  ]}Extended sample skillset definition{  \u0022description\u0022: \u0022Extract text from images and merge with content text to produce merged_text\u0022,  \u0022skills\u0022:  [    {      \u0022description\u0022: \u0022Extract text (plain and structured) from image.\u0022,      \u0022@odata.type\u0022: \u0022#Microsoft.Skills.Vision.\r\nOcrSkill\u0022,      \u0022context\u0022: \u0022/document/normalized_images/*\u0022,      \u0022defaultLanguageCode\u0022: \u0022en\u0022,      \u0022detectOrientation\u0022: true,      \u0022inputs\u0022: [        {          \u0022name\u0022: \u0022image\u0022,          \u0022source\u0022: \u0022/document/normalized_images/*\u0022        }      ],      \u0022outputs\u0022: [        {          \u0022name\u0022: \u0022text\u0022        }      ]    },    {      \u0022@odata.\r\ntype\u0022: \u0022#Microsoft.Skills.Text.MergeSkill\u0022,      \u0022description\u0022: \u0022Create merged_text, which includes all the textual representation of each image inserted at the right location in the content field.\u0022,      \u0022context\u0022: \u0022/document\u0022,      \u0022insertPreTag\u0022: \u0022 \u0022,      \u0022insertPostTag\u0022: \u0022 \u0022,      \u0022inputs\u0022: [        {          \u0022name\u0022:\u0022text\u0022,           \u0022source\u0022: \u0022/document/content\u0022The example above assumes that a normalized-images field exists. To get normalized-images field, set the imageAction configuration in your indexer definition togenerateNormalizedImages as shown below:JSONBuilt-in skillsHow to define a skillsetCreate Indexer (REST)        },        {          \u0022name\u0022: \u0022itemsToInsert\u0022,           \u0022source\u0022: \u0022/document/normalized_images/*/text\u0022        },        {          \u0022name\u0022:\u0022offsets\u0022,           \u0022source\u0022: \u0022/document/normalized_images/*/contentOffset\u0022         }      ],      \u0022outputs\u0022: [        {          \u0022name\u0022: \u0022mergedText\u0022,           \u0022targetName\u0022 : \u0022merged_text\u0022        }      ]    }  ]}{  //."
}