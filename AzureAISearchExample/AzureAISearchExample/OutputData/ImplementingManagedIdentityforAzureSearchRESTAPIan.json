{
  "Id": "856",
  "Title": "\u0022Implementing Managed Identity for Azure Search REST API and .NET SDK\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfThe REST API, Azure portal, and the .NET SDK support system-assigned managedidentity.When you\u0027re connecting with a system-assigned managed identity, the only change tothe data source definition is the format of the \u0022credentials\u0022 property. You\u0027ll provide an3 - Create the data sourceSystem-assigned managed identityInitial Catalog or Database name and a ResourceId that has no account key orpassword.\r\nThe ResourceId must include the subscription ID of SQL Managed Instance,the resource group of SQL Managed instance, and the name of the SQL database.Here\u0027s an example of how to create a data source to index data from a storage accountusing the Create Data Source REST API and a managed identity connection string.\r\nThemanaged identity connection string format is the same for the REST API, .NET SDK, andthe Azure portal.HTTPThe index specifies the fields in a document, attributes, and other constructs that shapethe search experience.Here\u0027s a Create Index REST API call with a searchable booktitle field:HTTPPOST https://[service name].search.windows.\r\nnet/datasources?api-version=2020-06-30Content-Type: application/jsonapi-key: [admin key]{    \u0022name\u0022 : \u0022sql-mi-datasource\u0022,    \u0022type\u0022 : \u0022azuresql\u0022,    \u0022credentials\u0022 : {         \u0022connectionString\u0022 : \u0022Database=[SQL database name];ResourceId=/subscriptions/[subscription ID]/resourcegroups/[resource group name]/providers/Microsoft. Sql/managedInstances/[SQL Managed Instance name];Connection Timeout=100;\u0022    },    \u0022container\u0022 : {         \u0022name\u0022 : \u0022my-table\u0022     }} 4 - Create the indexPOST https://[service name].search.windows.net/indexes?api-version=2020-06-30Content-Type: application/jsonapi-key: [admin key]{    \u0022name\u0022 : \u0022my-target-index\u0022,    \u0022fields\u0022: [        { \u0022name\u0022: \u0022id\u0022, \u0022type\u0022: \u0022Edm.\n"
}