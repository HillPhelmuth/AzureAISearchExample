{
  "Id": "954",
  "Title": "\u0022Configuring Azure Cosmos DB for Azure Search Indexing\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfnet/datasources?api-version=2021-04-30-Preview Content-Type: application/json api-key: [Search service admin key] {   \u0022name\u0022: \u0022[my-cosmosdb-mongodb-ds]\u0022,   \u0022type\u0022: \u0022cosmosdb\u0022,   \u0022credentials\u0022: {     \u0022connectionString\u0022: \u0022AccountEndpoint=https://[cosmos-account-name].documents.azure.com;AccountKey=[cosmos-account-key];Database=[cosmos-database-name];ApiKind=MongoDb;\u0022   },   \u0022container\u0022: {     \u0022name\u0022: \u0022[cosmos-db-collection]\u0022, 2.\r\nSet \u0022type\u0022 to \u0022cosmosdb\u0022 (required).3. Set \u0022credentials\u0022 to a connection string. The next section describes the supportedformats.4. Set \u0022container\u0022 to the collection. The \u0022name\u0022 property is required and it specifiesthe ID of the database collection to be indexed. For Azure Cosmos DB forMongoDB, \u0022query\u0022 isn\u0027t supported.5.\r\nSet \u0022dataChangeDetectionPolicy\u0022 if data is volatile and you want the indexer topick up just the new and updated items on subsequent runs.6. Set \u0022dataDeletionDetectionPolicy\u0022 if you want to remove search documents from asearch index when the source item is deleted.Indexers can connect to a collection using the following connections.\r\nFor connectionsthat target the MongoDB API, be sure to include \u0022ApiKind\u0022 in the connection string.Avoid port numbers in the endpoint URL. If you include the port number, the connectionwill fail.Full access connection string{ \u0022connectionString\u0022 : \u0022AccountEndpoint=https://\u003CCosmos DB accountname\u003E.documents.azure. com;AccountKey=\u003CCosmos DB auth key\u003E;Database=\u003CCosmos DB databaseid\u003E;ApiKind=MongoDb\u0022 }You can get the Cosmos DB auth key from the Azure Cosmos DB account page in the Azure portalby selecting Connection String in the left navigation pane. Make sure to copy Primary Passwordand replace Cosmos DB auth key value with it.\n"
}