{
  "Id": "1038",
  "Title": "\u0022Enriching Document Annotations for Azure Search Indexing and Skills\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfBecause the default context is \u0022/document\u0022, the list of people can now be referenced as\u0022/document/people\u0022. In this specific case \u0022/document/people\u0022 is an annotation, whichcould now be mapped to a field in an index, or used in another skill in the same skillset.JSONExample 1: Simple annotation reference  {     \u0022@odata.\r\ntype\u0022: \u0022#Microsoft.Skills.Text.V3.EntityRecognitionSkill\u0022,     \u0022categories\u0022: [ \u0022Person\u0022],     \u0022defaultLanguageCode\u0022: \u0022en\u0022,     \u0022inputs\u0022: [       {         \u0022name\u0022: \u0022text\u0022,This example builds on the previous one, showing you how to invoke an enrichmentstep multiple times over the same document.\r\nAssume the previous example generatedan array of strings with 10 people names from a single document. A reasonable nextstep might be a second enrichment that extracts the last name from a full name.Because there are 10 names, you want this step to be called 10 times in this document,once for each person.\r\nTo invoke the right number of iterations, set the context as \u0022/document/people/*\u0022, wherethe asterisk (\u0022*\u0022) represents all the nodes in the enriched document as descendants of\u0022/document/people\u0022. Although this skill is only defined once in the skills array, it\u0027s calledfor each member within the document until all members are processed.\r\nJSON        \u0022source\u0022: \u0022/document/content\u0022       }     ],     \u0022outputs\u0022: [       {         \u0022name\u0022: \u0022persons\u0022,         \u0022targetName\u0022: \u0022people\u0022       }     ]   } Example 2: Reference an array within adocument  {     \u0022@odata.type\u0022: \u0022#Microsoft.Skills.Custom.WebApiSkill\u0022,     \u0022description\u0022: \u0022Fictitious skill that gets the last name from a full name\u0022,     \u0022uri\u0022: \u0022http://names.azurewebsites. net/api/GetLastName\u0022,     \u0022context\u0022 : \u0022/document/people/*\u0022,     \u0022defaultLanguageCode\u0022: \u0022en\u0022,     \u0022inputs\u0022: [       {         \u0022name\u0022: \u0022fullname\u0022,         \u0022source\u0022: \u0022/document/people/*\u0022       }     ],     \u0022outputs\u0022: [       {         \u0022name\u0022: \u0022lastname\u0022,         \u0022targetName\u0022: \u0022last\u0022       } When annotations are arrays or collections of strings, you might want to target specificmembers rather than the array as a whole.\n"
}