{
  "Id": "813",
  "Title": "\u0022Managing Encoded and Unencoded Fields in Azure Cognitive Search\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfWhen you retrieve the encoded key at search time, use the base64Decodefunction to get the original key value, and use that to retrieve the source document.There are times when you need to use an encoded version of a field like\u0022metadata_storage_path\u0022 as the key, but also need an unencoded version for full textsearch.\r\nTo support both scenarios, you can map \u0022metadata_storage_path\u0022 to two fields:one for the key (encoded), and a second for a path field that we can assume isattributed as \u0022searchable\u0022 in the index schema.HTTPThe blob storage indexer automatically adds a field mapping frommetadata_storage_path, the URI of the blob, to the index key field if no field mapping isspecified.\r\nThis value is Base64 encoded so it\u0027s safe to use as an Azure Cognitive Search  \u0022dataSourceName\u0022 : \u0022my-blob-datasource \u0022,   \u0022targetIndexName\u0022 : \u0022my-search-index\u0022,   \u0022fieldMappings\u0022 : [     {          \u0022sourceFieldName\u0022 : \u0022metadata_storage_name\u0022,          \u0022targetFieldName\u0022 :\r\n\u0022key\u0022,          \u0022mappingFunction\u0022 : {              \u0022name\u0022 : \u0022base64Encode\u0022,             \u0022parameters\u0022 : { \u0022useHttpServerUtilityUrlTokenEncode\u0022 : false }         }      }   ] } Example: Make a base-encoded field \u0022searchable\u0022PUT /indexers/blob-indexer? api-version=2020-06-30 {     \u0022dataSourceName\u0022 : \u0022 blob-datasource \u0022,     \u0022targetIndexName\u0022 : \u0022my-target-index\u0022,     \u0022schedule\u0022 : { \u0022interval\u0022 : \u0022PT2H\u0022 },     \u0022fieldMappings\u0022 : [         { \u0022sourceFieldName\u0022 : \u0022metadata_storage_path\u0022, \u0022targetFieldName\u0022 : \u0022key\u0022, \u0022mappingFunction\u0022 : { \u0022name\u0022 : \u0022base64Encode\u0022 } },         { \u0022sourceFieldName\u0022 : \u0022metadata_storage_path\u0022, \u0022targetFieldName\u0022 : \u0022path\u0022 }       ] } Example - preserve original valuesdocument key.\n"
}