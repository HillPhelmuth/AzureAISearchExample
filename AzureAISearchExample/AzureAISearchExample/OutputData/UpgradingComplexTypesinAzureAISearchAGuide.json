{
  "Id": "680",
  "Title": "\u0022Upgrading Complex Types in Azure AI Search: A Guide\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfIf you find yourself in this situation, youneed to reduce the number of complex collection elements per document beforereindexing your data.For more information, see Service limits for Azure AI Search.If your code is using complex types with one of the older preview API versions, youmight be using an index definition format that looks like this:JSONUpgrading complex typesHow to upgrade an old complex type structure{  \u0022name\u0022: \u0022hotels\u0022,    \u0022fields\u0022: [    { \u0022name\u0022: \u0022HotelId\u0022, \u0022type\u0022: \u0022Edm.\r\nString\u0022, \u0022key\u0022: true, \u0022filterable\u0022: true },    { \u0022name\u0022: \u0022HotelName\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022searchable\u0022: true, \u0022filterable\u0022: false, \u0022sortable\u0022: true, \u0022facetable\u0022: false },    { \u0022name\u0022: \u0022Description\u0022, \u0022type\u0022: \u0022Edm.\r\nString\u0022, \u0022searchable\u0022: true, \u0022filterable\u0022: false, \u0022sortable\u0022: false, \u0022facetable\u0022: false, \u0022analyzer\u0022: \u0022en.microsoft\u0022 },    { \u0022name\u0022: \u0022Description_fr\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022searchable\u0022: true, \u0022filterable\u0022: false, \u0022sortable\u0022: false, \u0022facetable\u0022: false, \u0022analyzer\u0022: A newer tree-like format for defining index fields was introduced in API version 2017-11-11-Preview.\r\nIn the new format, each complex field has a fields collection where itssubfields are defined. In API version 2019-05-06, this new format is used exclusively andattempting to create or update an index using the old format will fail. If you haveindexes created using the old format, you\u0027ll need to use API version 2017-11-11-Preview\u0022fr.microsoft\u0022 },    { \u0022name\u0022: \u0022Category\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022searchable\u0022: true, \u0022filterable\u0022: true, \u0022sortable\u0022: true, \u0022facetable\u0022: true },    { \u0022name\u0022: \u0022Tags\u0022, \u0022type\u0022: \u0022Collection(Edm.\n"
}