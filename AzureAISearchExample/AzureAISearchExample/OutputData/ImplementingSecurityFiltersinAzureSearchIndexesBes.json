{
  "Id": "1476",
  "Title": "\u0022Implementing Security Filters in Azure Search Indexes: Best Practices\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfIt should be a collection. It shouldn\u0027t allow nulls.Other fields in the same document should provide the content that\u0027s accessible tothat group or user. In the following JSON documents, the \u0022security_id\u0022 fieldscontain identities used in a security filter, and the name, salary, and marital statuswill be included if the identity of the caller matches the \u0022security_id\u0022 of thedocument.JSONIn the search index, within the field collection, you need one field that contains thegroup or user identity, similar to the fictitious \u0022security_id\u0022 field in the previous example.\r\n1. Add a security field as a Collection(Edm.String). Make sure it has a filterableattribute set to true so that search results are filtered based on the access the userhas.\r\nFor example, if you set the group_ids field to [\u0022group_id1, group_id2\u0022] for{      \u0022Employee-1\u0022: {          \u0022id\u0022: \u0022100-1000-10-1-10000-1\u0022,        \u0022name\u0022: \u0022Abram\u0022,           \u0022salary\u0022: 75000,           \u0022married\u0022: true,        \u0022security_id\u0022: \u002210011\u0022    },    \u0022Employee-2\u0022: {          \u0022id\u0022:\r\n\u0022200-2000-20-2-20000-2\u0022,        \u0022name\u0022: \u0022Adams\u0022,           \u0022salary\u0022: 75000,           \u0022married\u0022: true,        \u0022security_id\u0022: \u002220022\u0022    } }  \uFF17 NoteThe process of retrieving the principal identifiers and injecting those stringsinto source documents that can be indexed by Azure AI Search isn\u0027t coveredin this article. Refer to the documentation of your identity service provider forhelp with obtaining identifiers.Create security fieldthe document with file_name \u0022secured_file_b\u0022, only users that belong to group IDs\u0022group_id1\u0022 or \u0022group_id2\u0022 have read access to the file.Set the field\u0027s retrievable attribute to false so that it isn\u0027t returned as part of thesearch request.2. Indexes require a document key. The \u0022file_id\u0022 field satisfies that requirement.Indexes should also contain searchable content. The \u0022file_name\u0022 and\u0022file_description\u0022 fields represent that in this example.\n"
}