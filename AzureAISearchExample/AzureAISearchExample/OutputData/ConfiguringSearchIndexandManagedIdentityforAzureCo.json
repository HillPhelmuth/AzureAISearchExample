{
  "Id": "964",
  "Title": "\u0022Configuring Search Index and Managed Identity for Azure Cosmos DB\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfDocumentDB/databaseAccounts/\u003Cyour cosmos db account name\u003E/;(ApiKind=[api-kind];)\u0022 }This connection string doesn\u0027t require an account key, but you must have previously configured asearch service to connect using a managed identity and created a role assignment that grantsSupported credentials and connection stringsManaged identity connection stringCosmos DB Account Reader Role permissions. See Setting up an indexer connection to an AzureCosmos DB database using a managed identity for more information.In a search index, add fields to accept the source JSON documents or the output of yourcustom query projection. Ensure that the search index schema is compatible with yourgraph.\r\nFor content in Azure Cosmos DB, your search index schema should correspond tothe Azure Cosmos DB items in your data source.1. Create or update an index to define search fields that will store data:HTTPAdd search fields to an index POST https://[service name].search.windows.\r\nnet/indexes?api-version=2020-06-30-Preview Content-Type: application/json api-key: [Search service admin key] {    \u0022name\u0022: \u0022mysearchindex\u0022,    \u0022fields\u0022: [     {         \u0022name\u0022: \u0022rid\u0022,         \u0022type\u0022: \u0022Edm.String\u0022,         \u0022facetable\u0022: false,         \u0022filterable\u0022: false,         \u0022key\u0022: true,         \u0022retrievable\u0022: true,         \u0022searchable\u0022: true,         \u0022sortable\u0022: false,         \u0022analyzer\u0022: \u0022standard.\r\nlucene\u0022,         \u0022indexAnalyzer\u0022: null,         \u0022searchAnalyzer\u0022: null,         \u0022synonymMaps\u0022: [],         \u0022fields\u0022: []     },{     }, {         \u0022name\u0022: \u0022label\u0022,         \u0022type\u0022: \u0022Edm. String\u0022,         \u0022searchable\u0022: true,         \u0022filterable\u0022: false,         \u0022retrievable\u0022: true,         \u0022sortable\u0022: false,         \u0022facetable\u0022: false,         \u0022key\u0022: false,         \u0022indexAnalyzer\u0022: null,         \u0022searchAnalyzer\u0022: null,         \u0022analyzer\u0022: \u0022standard.lucene\u0022,         \u0022synonymMaps\u0022: []2. Create a document key field (\u0022key\u0022: true).\n"
}