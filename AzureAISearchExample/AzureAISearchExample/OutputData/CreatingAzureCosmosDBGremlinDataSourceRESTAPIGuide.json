{
  "Id": "962",
  "Title": "\u0022Creating Azure Cosmos DB Gremlin Data Source: REST API Guide\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfFor this call, specify a preview REST API version (2020-06-30-Preview or 2021-04-30-Preview) to create a data source that connects via an Azure Cosmos DB for ApacheGremlin.1. Create or update a data source to set its definition:HTTP2. Set \u0022type\u0022 to \u0022cosmosdb\u0022 (required).3. Set \u0022credentials\u0022 to a connection string. The next section describes the supportedformats.\r\nDefine the data source POST https://[service name].search.windows.net/datasources?api-version=2021-04-30-Preview Content-Type: application/json api-key: [Search service admin key] {   \u0022name\u0022: \u0022[my-cosmosdb-gremlin-ds]\u0022,   \u0022type\u0022: \u0022cosmosdb\u0022,   \u0022credentials\u0022: {     \u0022connectionString\u0022: \u0022AccountEndpoint=https://[cosmos-account-name].\r\ndocuments.azure.com;AccountKey=[cosmos-account-key];Database=[cosmos-database-name];ApiKind=Gremlin;\u0022   },   \u0022container\u0022: {     \u0022name\u0022: \u0022[cosmos-db-collection]\u0022,     \u0022query\u0022: \u0022g.V()\u0022   },   \u0022dataChangeDetectionPolicy\u0022: {     \u0022@odata.type\u0022: \u0022#Microsoft.Azure.Search.HighWaterMarkChangeDetectionPolicy\u0022,     \u0022highWaterMarkColumnName\u0022: \u0022_ts\u0022   },   \u0022dataDeletionDetectionPolicy\u0022: null,   \u0022encryptionKey\u0022: null,   \u0022identity\u0022: null } }4.\r\nSet \u0022container\u0022 to the collection. The \u0022name\u0022 property is required and it specifiesthe ID of the graph.The \u0022query\u0022 property is optional. By default the Azure AI Search indexer for AzureCosmos DB for Apache Gremlin makes every vertex in your graph a document inthe index. Edges will be ignored. The query default is g.V(). Alternatively, youcould set the query to only index the edges. To index the edges, set the query tog.E().5. Set \u0022dataChangeDetectionPolicy\u0022 if data is volatile and you want the indexer topick up just the new and updated items on subsequent runs. Incremental progresswill be enabled by default using _ts as the high water mark column.\n"
}