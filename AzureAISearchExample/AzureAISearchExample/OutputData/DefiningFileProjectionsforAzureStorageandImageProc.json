{
  "Id": "1125",
  "Title": "\u0022Defining File Projections for Azure Storage and Image Processing\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfTo define a file projection, use the files array in the projections property. A filesprojection has three required properties:PropertyDescriptionstorageContainerDetermines the name of a new container created in Azure Storage.generatedKeyNameColumn name for the key that uniquely identifies each row. The value issystem-generated. If you omit this property, a column will be createdautomatically that uses the table name and \u0022key\u0022 as the namingconvention.sourceA path to a node in an enrichment tree that is the root of the projection.For images files, the source is always /document/normalized_images/*. Fileprojections only act on the normalized_images collection.\r\nNeither indexersnor a skillset will pass through the original non-normalized image.\r\n\u0022name\u0022: \u0022HotelId\u0022,           \u0022source\u0022: \u0022/document/HotelId\u0022         },         {           \u0022name\u0022: \u0022HotelName\u0022,           \u0022source\u0022: \u0022/document/HotelName\u0022         },         {           \u0022name\u0022: \u0022Category\u0022,           \u0022source\u0022: \u0022/document/Category\u0022         },         {           \u0022name\u0022: \u0022keyPhrases\u0022,           \u0022source\u0022:\r\n\u0022/document/HotelId/keyphrases/*\u0022         },       ],       \u0022outputs\u0022: [         {           \u0022name\u0022: \u0022output\u0022,           \u0022targetName\u0022: \u0022objectprojection\u0022         }       ]     } Define a file projectionThe destination is always a blob container, with a folder prefix of the base64 encodedvalue of the document ID. If there are multiple images, they\u0027ll be placed together in thesame folder. File projections can\u0027t share the same container as object projections andneed to be projected into a different container.The following example projects all normalized images extracted from the documentnode of an enriched document, into a container called myImages.JSONYou can process projections by following these steps:1. Set the knowledge store\u0027s storageConnectionString property to a valid V2 generalpurpose storage account connection string.2. Update the skillset by issuing a PUT request with your projection definition in thebody of the skillset.3. Run the indexer to put the skillset into execution.\n"
}