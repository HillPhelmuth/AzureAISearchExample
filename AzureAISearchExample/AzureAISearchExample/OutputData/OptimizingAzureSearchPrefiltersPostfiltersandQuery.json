{
  "Id": "1168",
  "Title": "\u0022Optimizing Azure Search: Prefilters, Postfilters, and Query Response Configuration\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfIf prefilters or postfilters are too selective, you might beunderserving the semantic ranker by giving it fewer than 50 documents to workwith.Prefiltering is applied before query execution. If prefilter reduces the search area to100 documents, the vector query executes over the \u0022contentVector\u0022 field for those100 documents, returning the k=50 best matches.\r\nThose 50 matching documentsthen pass to RRF for merged results, and then to semantic ranker.Postfilter is applied after query execution. If k=50 returns 50 matches on the vectorquery side, then the post-filter is applied to the 50 matches, reducing results thatmeet filter criteria, leaving you with fewer than 50 documents to pass to semanticrankerWhen you\u0027re setting up the hybrid query, think about the response structure.\r\nTheresponse is a flattened rowset. Parameters on the query determine which fields are ineach row and how many rows are in the response. The search engine ranks thematching documents and returns the most relevant results.Search results are composed of \u0022retrievable\u0022 fields from your search index. A result iseither:All \u0022retrievable\u0022 fields (a REST API default).Fields explicitly listed in a \u0022select\u0022 parameter on the query.The examples in this article used a \u0022select\u0022 statement to specify text (non-vector) fieldsin the response.\r\nConfigure a query responseFields in a response\uFF17 NoteVectors aren\u0027t designed for readability, so avoid returning them in the response.Instead, choose non-vector fields that are representative of the search document.For example, if the query targets a \u0022descriptionVector\u0022 field, return an equivalenttext field if you have one (\u0022description\u0022) in the response. A query might match to any number of documents, as many as all of them if the searchcriteria are weak (for example \u0022search=*\u0022 for a null query). Because it\u0027s seldom practicalto return unbounded results, you should specify a maximum for the response:\u0022k\u0022: n results for vector-only queries\u0022top\u0022: n results for hybrid queries that include a \u0022search\u0022 parameterBoth \u0022k\u0022 and \u0022top\u0022 are optional.\n"
}