{
  "Id": "915",
  "Title": "\u0022Managing Azure Blob Storage with Shared Access Signatures\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfStorage account shared access signature** (SAS) connection string{ \u0022connectionString\u0022 : \u0022BlobEndpoint=https://\u003Cyouraccount\u003E.blob.core.windows.net/;SharedAccessSignature=?sv=2016-05-31\u0026sig=\u003Cthesignature\u003E\u0026spr=https\u0026se=\u003Cthe validity end time\u003E\u0026srt=co\u0026ss=b\u0026sp=rl;\u0022 }The SAS should have the list and read permissions on containers and objects (blobs in this case).\r\nContainer shared access signature{ \u0022connectionString\u0022 : \u0022ContainerSharedAccessUri=https://\u003Cyour storageaccount\u003E.blob.core.windows.net/\u003Ccontainer name\u003E?sv=2016-05-31\u0026sr=c\u0026sig=\u003Cthe signature\u003E\u0026se=\u003Cthe validity end time\u003E\u0026sp=rl;\u0022 }The SAS should have the list and read permissions on the container.\r\nFor more information, seeUsing Shared Access Signatures.In a search index, add fields to accept the content and metadata of your Azure blobs.1. Create or update an index to define search fields that will store blob content andmetadata:HTTP\uFF17 NoteIf you use SAS credentials, you will need to update the data source credentialsperiodically with renewed signatures to prevent their expiration. If SAS credentialsexpire, the indexer will fail with an error message similar to \u0022Credentials provided inthe connection string are invalid or have expired\u0022.Add search fields to an indexPOST https://[service name].search.windows. net/indexes?api-version=2020-06-30 {     \u0022name\u0022 : \u0022my-search-index\u0022,     \u0022fields\u0022: [         { \u0022name\u0022: \u0022ID\u0022, \u0022type\u0022: \u0022Edm.String\u0022, \u0022key\u0022: true, \u0022searchable\u0022: false }, 2. Create a document key field (\u0022key\u0022: true). For blob content, the best candidates aremetadata properties.metadata_storage_path (default) full path to the object or file.\n"
}