{
  "Id": "852",
  "Title": "\u0022Managing User-Assigned Identities in Azure Search: REST API Guide\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfThis is the same format as thesystem-assigned managed identity.Second, you\u0027ll add an \u0022identity\u0022 property that contains the collection of user-assigned managed identities. Only one user-assigned managed identity should beprovided when creating the data source.\r\nSet it to type \u0022userAssignedIdentities\u0022.Here\u0027s an example of how to create an indexer data source object using the previewCreate or Update Data Source REST API:HTTPUser-assigned managed identity (preview)POST https://[service name].search.windows.\r\nnet/datasources?api-version=2021-04-30-preview Content-Type: application/json api-key: [admin key] {     \u0022name\u0022 : \u0022sql-datasource\u0022,     \u0022type\u0022 : \u0022azuresql\u0022,     \u0022credentials\u0022 : {          \u0022connectionString\u0022 : \u0022Database=[SQL database name];ResourceId=/subscriptions/[subscription ID]/resourceGroups/[resource group name]/providers/Microsoft.\r\nSql/servers/[SQL Server name];Connection Timeout=30;\u0022     },     \u0022container\u0022 : {          \u0022name\u0022 : \u0022my-table\u0022      },     \u0022identity\u0022 : {          \u0022@odata.type\u0022: \u0022#Microsoft.Azure.Search.DataUserAssignedIdentity\u0022,         \u0022userAssignedIdentity\u0022 : \u0022/subscriptions/[subscription ID]/resourcegroups/[resource group name]/providers/Microsoft.\r\nManagedIdentity/userAssignedIdentities/[managed identity name]\u0022     } }    The index specifies the fields in a document, attributes, and other constructs that shapethe search experience.Here\u0027s a Create Index REST API call with a searchable booktitle field:HTTPAn indexer connects a data source with a target search index, and provides a scheduleto automate the data refresh. Once the index and data source have been created, you\u0027reready to create the indexer. If the indexer is successful, the connection syntax and roleassignments are valid.Here\u0027s a Create Indexer REST API call with an Azure SQL indexer definition. The indexerwill run when you submit the request.\n"
}