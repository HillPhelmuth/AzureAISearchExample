{
  "Id": "1131",
  "Title": "\u0022Shaping Data for Azure Search: Custom Projection and JSON\u0022",
  "Text": "C:\\Users\\adamh\\Downloads\\azure-search.pdfIn this example, the custom shape combines blob metadata and identified entities andkey phrases. The custom shape is called projectionShape and is parented under/document.One purpose of shaping is to ensure that all enrichment nodes are expressed in well-formed JSON, which is required for projecting into knowledge store.\r\nThis is especiallytrue when an enrichment tree contains nodes that aren\u0027t well-formed JSON (forexample, when an enrichment is parented to a primitive like a string).Notice the last two nodes, KeyPhrases and Entities. These are wrapped into a validJSON object with the sourceContext. This is required as keyphrases and entities areenrichments on primitives and need to be converted to valid JSON before they can beprojected.JSON{     \u0022@odata.type\u0022: \u0022#Microsoft.Skills.Util.\r\nShaperSkill\u0022,     \u0022name\u0022: \u0022ShaperForTables\u0022,     \u0022description\u0022: null,     \u0022context\u0022: \u0022/document\u0022,     \u0022inputs\u0022: [         {             \u0022name\u0022: \u0022metadata_storage_content_type\u0022,             \u0022source\u0022: \u0022/document/metadata_storage_content_type\u0022,             \u0022sourceContext\u0022: null,             \u0022inputs\u0022: []         },         {             \u0022name\u0022: \u0022metadata_storage_name\u0022,             \u0022source\u0022: \u0022/document/metadata_storage_name\u0022,             \u0022sourceContext\u0022: null,             \u0022inputs\u0022: []         },         {             \u0022name\u0022: \u0022metadata_storage_path\u0022,             \u0022source\u0022: \u0022/document/metadata_storage_path\u0022,             \u0022sourceContext\u0022: null,             \u0022inputs\u0022: []         },         {             \u0022name\u0022: \u0022metadata_content_type\u0022,             \u0022source\u0022: \u0022/document/metadata_content_type\u0022,             \u0022sourceContext\u0022: null,             \u0022inputs\u0022: []         }, The example skillset introduced at the start of this article didn\u0027t include the Shaper skill,but Shaper skills belong in a skillset and are often placed towards the end.\n"
}